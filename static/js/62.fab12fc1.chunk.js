"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[62],{62:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r,u,i=t(861),a=t(439),o=t(757),s=t.n(o),c=t(87),l=t(168),d=t(924),f=d.ZP.div(r||(r=(0,l.Z)(["\n  padding: 10px 15px 0;\n"]))),p=t(791),h=d.ZP.div(u||(u=(0,l.Z)(["\n  padding-bottom: 10px;\n"]))),m=t(184),v=function(e){var n=e.onSubmit,t=(0,c.lr)(),r=(0,a.Z)(t,1)[0],u=(0,p.useState)((function(){return r.get("query")})),i=(0,a.Z)(u,2),o=i[0],s=i[1];return(0,m.jsxs)(h,{children:[(0,m.jsx)("input",{value:o,onChange:function(e){return s(e.target.value)}}),(0,m.jsx)("button",{type:"button",onClick:function(e){n(o.trim())},children:"Search"})]})},x=t(138),Z=t(689),g=t(671),j=t(579),k=function(e){var n=e.isLoading,t=e.error,r=e.movies,u=(0,Z.TH)();return t?(0,m.jsxs)(g.K,{children:["Error happened while loading movies: ",t]}):n?(0,m.jsx)(j.m,{}):r&&r.length>0&&r.map((function(e){return(0,m.jsx)("div",{children:(0,m.jsx)(c.rU,{to:"/movies/".concat(e.id),state:{from:u},children:e.name||e.title})},e.id)}))},b=function(){var e=(0,c.lr)(),n=(0,a.Z)(e,2),t=n[0],r=n[1],u=t.get("query"),o=(0,p.useState)(null),l=(0,a.Z)(o,2),d=l[0],h=l[1],Z=(0,p.useState)(null),g=(0,a.Z)(Z,2),j=g[0],b=g[1],w=(0,p.useState)(!1),S=(0,a.Z)(w,2),y=S[0],C=S[1];return(0,p.useEffect)((function(){if(u){var e=function(){var e=(0,i.Z)(s().mark((function e(){var n,t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,(0,x.Xd)({keyword:u});case 3:if(n=e.sent,t=n.result,r=n.err,C(!1),!r){e.next=10;break}return b(r),e.abrupt("return");case 10:h(t);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[u]),(0,m.jsxs)(f,{children:[(0,m.jsx)(v,{onSubmit:function(e){y||r({query:e})}}),(0,m.jsx)(k,{isLoading:y,error:j,movies:d})]})}}}]);
//# sourceMappingURL=62.fab12fc1.chunk.js.map