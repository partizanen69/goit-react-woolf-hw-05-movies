{"version":3,"file":"static/js/62.fab12fc1.chunk.js","mappings":"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","sources":["components/Movies/Movies.styled.jsx","components/Movies/SearchBlock/SearchBlock.styled.jsx","components/Movies/SearchBlock/SearchBlock.jsx","components/Movies/MoviesList/MoviesList.jsx","components/Movies/Movies.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const MoviesStyled = styled.div`\n  padding: 10px 15px 0;\n`;\n","import styled from 'styled-components';\n\nexport const SearchBlockStyled = styled.div`\n  padding-bottom: 10px;\n`;\n","import { useState } from 'react';\nimport { SearchBlockStyled } from './SearchBlock.styled';\nimport { useSearchParams } from 'react-router-dom';\n\nexport const SearchBlock = ({ onSubmit }) => {\n  const [searchParams] = useSearchParams();\n\n  const [value, setValue] = useState(() => {\n    return searchParams.get('query');\n  });\n\n  const handleSubmit = e => {\n    onSubmit(value.trim());\n  };\n\n  return (\n    <SearchBlockStyled>\n      <input value={value} onChange={e => setValue(e.target.value)} />\n      <button type=\"button\" onClick={handleSubmit}>\n        Search\n      </button>\n    </SearchBlockStyled>\n  );\n};\n","import { Link, useLocation } from 'react-router-dom';\nimport { WrapStyled } from '../../Home/Home.styled';\nimport { FullContainerLoader } from '../../Loader/Loader';\n\nexport const MoviesList = ({ isLoading, error, movies }) => {\n  const location = useLocation();\n\n  if (error) {\n    return (\n      <WrapStyled>Error happened while loading movies: {error}</WrapStyled>\n    );\n  }\n\n  if (isLoading) {\n    return <FullContainerLoader />;\n  }\n\n  return (\n    movies &&\n    movies.length > 0 &&\n    movies.map(movie => (\n      <div key={movie.id}>\n        <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n          {movie.name || movie.title}\n        </Link>\n      </div>\n    ))\n  );\n};\n","import { useSearchParams } from 'react-router-dom';\nimport { MoviesStyled } from './Movies.styled';\nimport { SearchBlock } from './SearchBlock/SearchBlock';\nimport { useEffect, useState } from 'react';\nimport { fetchMoviesByKeyword } from '../../api/moviedb';\nimport { MoviesList } from './MoviesList/MoviesList';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  const [movies, setMovies] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const startSearch = keyword => {\n    if (isLoading) {\n      return;\n    }\n    setSearchParams({ query: keyword });\n  };\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    const getMoviesByKeyword = async () => {\n      setIsLoading(true);\n      const { result, err } = await fetchMoviesByKeyword({ keyword: query });\n      setIsLoading(false);\n\n      if (err) {\n        setError(err);\n        return;\n      }\n\n      setMovies(result);\n    };\n\n    getMoviesByKeyword();\n  }, [query]);\n\n  return (\n    <MoviesStyled>\n      <SearchBlock onSubmit={startSearch} />\n      <MoviesList isLoading={isLoading} error={error} movies={movies} />\n    </MoviesStyled>\n  );\n};\n\nexport default Movies;\n"],"names":["MoviesStyled","styled","_templateObject","_taggedTemplateLiteral","SearchBlockStyled","SearchBlock","_ref","onSubmit","_useSearchParams","useSearchParams","searchParams","_slicedToArray","_useState","useState","get","_useState2","value","setValue","_jsxs","children","_jsx","onChange","e","target","type","onClick","trim","MoviesList","isLoading","error","movies","location","useLocation","WrapStyled","FullContainerLoader","length","map","movie","Link","to","concat","id","state","from","name","title","_useSearchParams2","setSearchParams","query","setMovies","_useState3","_useState4","setError","_useState5","_useState6","setIsLoading","useEffect","getMoviesByKeyword","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$fetchMoviesByK","result","err","_context","prev","next","fetchMoviesByKeyword","keyword","sent","abrupt","stop","apply","arguments"],"sourceRoot":""}